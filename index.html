<!doctype html>
<meta charset="utf-8">
<title>Noise world gen</title>
<body>
  <script src="pixi.js"></script>
  <script src="p5.js"></script>
  <script>

  var banterlona = [];
  var tile_width = 60;
  var tile_height = 60;
  var screen_width = window.prompt("Enter width");
  var screen_height = window.prompt("Enter Height");

  var h = (screen_height/tile_height);
  var w = (screen_width/tile_width);
  var renderer = PIXI.autoDetectRenderer(screen_width, screen_height,{backgroundColor : 0x007F7F7F});


  //initialze a map at user specificatioins
  function init(map, height, width){
    map.length = height;
    for(i = 0; i < height; i++){
      map[i] = [];
      for(j = 0; j < width; j++){
        map[i][j] = 0;
      }
    }
    //console.log(map[1]);
  }

  function generateMap(map){
    for(i = 0; i < h; i++){
      for(j = 0; j < w; j++){
        if(map[i][j] > 0.1 && map[i][j] < .4){
          //window.alert(map[i][j]);
          var tilingSprite = new PIXI.extras.TilingSprite(grass, tile_width, tile_height);
          tilingSprite.position.y = i*tile_height;
          tilingSprite.position.x = j*tile_width;
          stage.addChild(tilingSprite);
          //window.alert(tilingSprite.tilePosition);
        }
      }
    }
  }

  document.body.appendChild(renderer.view);
  var stage = new PIXI.Container();

  var grass = PIXI.Texture.fromImage('green.jpg');
  function setup(){
    init(banterlona,h,w);
    for(i = 0; i < h; i++){
      for(j = 0; j < w; j++){
        banterlona[i][j] = noise(i,j);
        //window.alert(banterlona[i][j]);
      }
    }
    generateMap(banterlona);

  }

  animate();

  function animate() {
      requestAnimationFrame(animate);
      renderer.render(stage);
  }



  </script>
</body>
