<!doctype html>
<meta charset="utf-8">
<title>Noise world gen</title>
<body>
  <script src="src/pixi.js"></script>
  <script src="src/p5.js"></script>
  <script src="src/Generate.js"></script>

  <script>

  var map = []; //map array
  var inc = 0.01;
  //tile dimensions
  var tile_width = 5;
  var tile_height = 5;
  //var screen_width = window.prompt("Enter width");
  //var screen_height = window.prompt("Enter Height");
  var screen_height = 360;
  var screen_width = 600;

  var h = (screen_height/tile_height); //relative height
  var w = (screen_width/tile_width); //relative width

  //Pixi stuff
  var renderer = PIXI.autoDetectRenderer(screen_width, screen_height ,{backgroundColor : 0x000000255});
  document.body.appendChild(renderer.view);
  var stage = new PIXI.Container();

  function animate() {
    requestAnimationFrame(animate);
    renderer.render(stage);
  }

   //p5 requires setup (temporary)
  function setup(){
    // createCanvas(200, 200);
    // pixelDensity(1);
    // //noiseSeed(99);
    // noiseDetail(16,0.5); // if falloff above .5, noise may return value > 1
    var map = new Generate(); //Generate object
    map.init2DMap(map,h,w);
    map.generateNoise(map);
    map.generateMap(map);
    animate(); //draw
    // console.log(map);
  }//end funciton setup

  // function draw() { //visualize noise greyscale
  //   //(https://github.com/CodingRainbow/Rainbow-Code/blob/master/perlin_noise/04_perlin_noise_2D/sketch.js)
  //   var yoff = 0;
  //   loadPixels();
  //   for (var y = 0; y < height; y++) {
  //     var xoff = 0;
  //     for (var x = 0; x < width; x++) {
  //       var index = (x + y * width) * 4;
  //       var r = noise(xoff, yoff) * 255;
  //       pixels[index + 0] = r;
  //       pixels[index + 1] = r;
  //       pixels[index + 2] = r;
  //       pixels[index + 3] = 255;
  //       xoff += inc;
  //     }
  //     yoff += inc;
  //   }
  //   updatePixels();
  // }
  </script>
</body>
